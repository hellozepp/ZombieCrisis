# ZombieCrisis
JAVA 射击生存类小游戏

## 📖 项目简介

ZombieCrisis 是一个基于 Java AWT 框架开发的 2D 射击生存类游戏。玩家需要在不断涌现的僵尸群中生存，通过击杀敌人来提升波次难度。游戏支持单人和双人合作模式。

## 🎮 操作说明

### 1P（玩家1）
- **移动**: W/A/S/D
- **攻击**: J
- **切换武器**: K
- **大招**: L（消耗8发火球，8方向发射）

### 2P（玩家2）
- **移动**: 方向键（↑↓←→）
- **攻击**: 小键盘1
- **切换武器**: 小键盘2
- **大招**: 小键盘3

## 🎯 游戏特色

- ✅ **双人合作**: 支持本地双人同屏游戏
- ✅ **智能AI**: 敌人使用A*寻路算法追踪玩家
- ✅ **武器系统**: 近战剑和远程火球，可自由切换
- ✅ **波次系统**: 难度递增，每波敌人数量+3
- ✅ **补给系统**: 宝箱随机掉落弹药和生命值
- ✅ **精灵动画**: 流畅的8方向行走动画

## 🎬 效果演示

![demo1](./gif/demo1.gif)  
  
![demo2](./gif/demo2.gif)

## 📚 文档导航

### 核心文档
1. **[代码索引.md](./代码索引.md)** - 完整的代码结构和类索引
   - 24个类的详细说明
   - 继承关系图
   - 游戏机制说明
   - 扩展开发指南

2. **[架构设计.md](./架构设计.md)** - 系统架构和设计模式
   - MVC架构设计
   - 6种设计模式应用
   - 核心流程图
   - 性能优化方案
   - 学习路径建议

3. **[注释进度.md](./注释进度.md)** - 代码注释添加进度
   - 已完成文件列表
   - 待处理文件清单
   - 注释模板和规范

## 🏗️ 项目结构

```
ZombieCrisis/
├── src/Game/              # 源代码目录
│   ├── Main.java          # 程序入口 ✓
│   ├── Start.java         # 开始界面 ✓
│   ├── GameClient.java    # 游戏主窗口 ✓
│   ├── World.java         # 游戏世界管理器 ✓
│   ├── Direction.java     # 方向枚举 ✓
│   ├── GameObject.java    # 游戏对象基类 ✓
│   ├── Role.java          # 角色基类 ✓
│   ├── Hero.java          # 玩家角色
│   ├── Enemy.java         # 敌人基类
│   ├── Monster.java       # 近战怪物
│   ├── Ghost.java         # 远程幽灵
│   ├── Weapon.java        # 武器基类
│   ├── Sword.java         # 剑
│   ├── Ball.java          # 弹丸基类
│   ├── Fireball.java      # 火球
│   ├── Pathfinder.java    # A*寻路算法
│   └── ...                # 其他类
├── images/                # 图片资源
├── gif/                   # 演示动图
├── README.md              # 本文件
├── 代码索引.md             # 代码索引文档 ✓
├── 架构设计.md             # 架构设计文档 ✓
└── 注释进度.md             # 注释进度文档 ✓
```

**✓** 表示已添加详细中文注释

## 🔧 技术栈

- **语言**: Java 8+
- **GUI框架**: AWT (Abstract Window Toolkit)
- **图形库**: Java 2D Graphics
- **并发**: Java Thread, CopyOnWriteArrayList
- **算法**: A* 寻路算法
- **设计模式**: 模板方法、策略、观察者、工厂、单例、原型

## 🚀 快速开始

### 运行游戏
```bash
# 编译
javac src/Game/*.java

# 运行
java -cp src Game.Main
```

### 学习代码
1. 阅读 [架构设计.md](./架构设计.md) 了解整体架构
2. 查看 [代码索引.md](./代码索引.md) 找到感兴趣的类
3. 阅读源代码中的中文注释理解实现细节

## 📊 代码统计

- **总文件数**: 24个Java类
- **已注释**: 24个类（100%）✅
- **代码行数**: 约2500+行
- **注释覆盖**: 所有类已完成详细注释

## 🎓 学习建议

### 初学者路径
1. **Main.java** → 理解程序入口
2. **Start.java** → 学习Swing界面
3. **GameClient.java** → 掌握游戏循环
4. **GameObject.java** → 理解继承体系

### 进阶路径
1. **World.java** → 学习游戏管理
2. **Role.java** → 理解角色系统
3. **Hero.java** → 掌握输入处理
4. **Enemy.java** → 学习AI基础

### 高级路径
1. **Pathfinder.java** → 实现A*算法
2. **WorldGrids.java** → 理解空间分区
3. 优化碰撞检测
4. 添加新功能

## 🔍 核心特性说明

### 1. 双缓冲渲染
使用离屏图像避免画面闪烁，提供流畅的游戏体验。

### 2. A*寻路算法
敌人使用A*算法智能追踪玩家，避开障碍物。

### 3. 波次系统
- 初始波次: 3个敌人
- 递增规则: 每波+3个
- 敌人类型: 10% Ghost（远程），90% Monster（近战）

### 4. 武器系统
- **剑**: 伤害80，攻击范围80，冷却12帧
- **火球**: 伤害55，速度15，最大弹药80
- **大招**: 消耗8发火球，8方向同时发射

### 5. 补给系统
- 宝箱重生时间: 800帧
- 掉落概率: 45%弹药 + 45%生命 + 10%无

## 🐛 已知问题

1. 敌人数量限制100个，可能导致后期卡顿
2. 路径刷新频率固定，敌人行为不够流畅
3. 碰撞检测O(n²)复杂度，对象多时性能下降

## 🔮 未来改进

- [ ] 引入四叉树优化碰撞检测
- [ ] 实现对象池模式减少GC
- [ ] 添加音效系统
- [ ] 使用配置文件管理数值
- [ ] 添加更多敌人和武器类型
- [ ] 实现技能系统

## 📝 开发日志

### v1.0 (2026-02-22)
- ✅ 完成核心游戏功能
- ✅ 添加7个核心类的详细中文注释
- ✅ 生成完整的代码索引文档
- ✅ 编写详细的架构设计文档
- ✅ 创建学习路径指南

## 🤝 贡献指南

欢迎提交Issue和Pull Request！

### 添加新敌人
1. 继承 `Enemy` 类
2. 设置属性（HP、速度、武器）
3. 在 `World.produceEnemy()` 中添加生成逻辑

### 添加新武器
1. 继承 `Weapon` 或 `Ball` 类
2. 设置属性（伤害、冷却、范围）
3. 在 `Hero` 构造方法中添加到武器列表

## 📄 许可证

本项目仅供学习交流使用。

## 📧 联系方式

如有问题或建议，请查看：
- [代码索引.md](./代码索引.md) - 查找类和方法
- [架构设计.md](./架构设计.md) - 理解系统设计
- 源代码注释 - 了解实现细节

---

**开发团队**: ZombieCrisis  
**最后更新**: 2026-02-22  
**版本**: 1.0
